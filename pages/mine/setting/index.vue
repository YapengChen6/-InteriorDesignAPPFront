<template>
  <view class="setting-container" :style="{height: `${windowHeight}px`}">
    
    <!-- èº«ä»½æç¤º -->
    <view class="identity-hint">å·²é€‰æ‹©æ‚¨çš„èº«ä»½ï¼š{{selectedIdentity}}</view>
    
    <!-- èº«ä»½é€‰æ‹©åˆ—è¡¨ -->
    <view class="menu-list">
      <view 
        class="list-cell" 
        :class="{'selected': selectedIdentity === 'å•†å®¶'}"
        @click="selectIdentity('å•†å®¶')"
      >
        <view class="menu-item-box">
          <view class="menu-icon">ğŸ </view>
          <view class="menu-text">å•†å®¶</view>
        </view>
      </view>
      
      <view 
        class="list-cell" 
        :class="{'selected': selectedIdentity === 'è®¾è®¡å¸ˆ'}"
        @click="selectIdentity('è®¾è®¡å¸ˆ')"
      >
        <view class="menu-item-box">
          <view class="menu-icon">ğŸ¨</view>
          <view class="menu-text">è®¾è®¡å¸ˆ</view>
        </view>
      </view>
      
      <view 
        class="list-cell" 
        :class="{'selected': selectedIdentity === 'ç›‘å·¥'}"
        @click="selectIdentity('ç›‘å·¥')"
      >
        <view class="menu-item-box">
          <view class="menu-icon">ğŸ‘·</view>
          <view class="menu-text">ç›‘å·¥</view>
        </view>
      </view>
    </view>
    
    <!-- ç¡®è®¤æŒ‰é’® -->
    <view class="confirm-btn-container">
      <view class="confirm-btn" @click="handleConfirm">
        <text class="confirm-text">æˆ‘é€‰å¥½äº†</text>
      </view>
    </view>
  </view>
</template>

<script>
  export default {
    data() {
      return {
        windowHeight: uni.getSystemInfoSync().windowHeight,
        selectedIdentity: 'ä¸šä¸»' // é»˜è®¤é€‰æ‹©å•†å®¶
      }
    },
    methods: {
      // é€‰æ‹©èº«ä»½
      selectIdentity(identity) {
        this.selectedIdentity = identity;
        
        // å¦‚æœé€‰æ‹©çš„æ˜¯å•†å®¶ï¼Œç›´æ¥è·³è½¬åˆ°å•†å®¶åŠ å…¥é¡µé¢
        if (identity === 'å•†å®¶') {
          this.navigateToShopJoin();
        }
      },
      
      // ç¡®è®¤é€‰æ‹©
      handleConfirm() {
        this.$modal.showToast(`å·²é€‰æ‹©èº«ä»½ï¼š${this.selectedIdentity}`)
        
        // æ ¹æ®é€‰æ‹©çš„èº«ä»½è·³è½¬åˆ°ä¸åŒé¡µé¢
        if (this.selectedIdentity === 'å•†å®¶') {
          this.navigateToShopJoin();
        } else {
          // è¿™é‡Œå¯ä»¥æ·»åŠ å…¶ä»–èº«ä»½çš„è·³è½¬é€»è¾‘
          // this.$tab.navigateTo('/pages/home/index')
        }
      },
      
      // è·³è½¬åˆ°å•†å®¶åŠ å…¥é¡µé¢
      navigateToShopJoin() {
        uni.navigateTo({
          url: '/pages/join/ShopJoin1'
        });
      }
    }
  }
</script>

<style lang="scss" scoped>
  .setting-container {
    background-color: #f8f8f8;
    padding: 40rpx 30rpx;
    display: flex;
    flex-direction: column;
  }

  .welcome-title {
    font-size: 36rpx;
    font-weight: bold;
    text-align: center;
    margin-bottom: 60rpx;
    color: #333;
  }

  .identity-hint {
    font-size: 28rpx;
    color: #666;
    text-align: center;
    margin-bottom: 60rpx;
  }

  .menu-list {
    background-color: #FFFFFF;
    border-radius: 16rpx;
    overflow: hidden;
    margin-bottom: 80rpx;
  }

  .list-cell {
    padding: 40rpx 30rpx;
    border-bottom: 1rpx solid #f0f0f0;
    
    &:last-child {
      border-bottom: none;
    }
    
    &.selected {
      background-color: #e6f7ff;
      border-left: 6rpx solid #1890ff;
    }
  }

  .menu-item-box {
    display: flex;
    align-items: center;
  }

  .menu-icon {
    font-size: 48rpx;
    margin-right: 30rpx;
    width: 60rpx;
    text-align: center;
  }

  .menu-text {
    font-size: 32rpx;
    color: #333;
  }

  .confirm-btn-container {
    margin-top: auto;
    padding: 0 30rpx;
  }

  .confirm-btn {
    background-color: #1890ff;
    border-radius: 50rpx;
    padding: 28rpx;
    text-align: center;
    box-shadow: 0 4rpx 12rpx rgba(24, 144, 255, 0.3);
  }

  .confirm-text {
    color: #fff;
    font-size: 32rpx;
    font-weight: 500;
  }
</style>